<html>
    <head>
        <link rel="stylesheet" href="/dev/css/developerUpdates.css">
        <script src="/dev/js/dev.js"></script>
    </head>
    <body>
        <article class="featureSection">
            <div name="featureTitle" class="featureTitle">
              <div style="display: inline-flex; padding-bottom: 5px;">
                <span class="index">9</span>
                <div style="text-align:left;"><span class="label">API: Query Five Levels of Parent-to-Child Relationships in SOQL Queries</span></div>
              </div>
              <div class="identityDiv">
                <span class="identityText">Contributed by : </span>
                <span class="identityVal">
                  Subhojeet Ghosh 
                  <a href="https://in.linkedin.com/in/subhojeet-ghosh-salesforce-professional" target="_blank">
                    <img src="/images/LN.png" class="IdImg">
                  </a>
                </span>
              </div>
            </div>
            <br/>
            <div name="featureBody" class="featureBody">
              <div class="audioSection" style="padding:5px; float:right;">
                <audio id="feature9Audio" style="filter: drop-shadow(0 0 2px black);" controlsList="nodownload" onended="pauseAnimation('myImage9', 'myImageStandBy9', 'feature9Audio')">
                  <source src="/dev/audios/feature9.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
                </audio>
                <img src="" id="myImage9" width="150" height="80" onclick="pauseAnimation('myImage9', 'myImageStandBy9', 'feature9Audio')" style="display:none; border-radius: 5px;">
                <img src="/dev/images/audioStandby.png" id="myImageStandBy9" width="150" height="80" onclick="playAnimation('myImage9', 'myImageStandBy9', 'feature9Audio')" style="border-radius: 5px;">
              </div>

              <p>SOQL now supports relationship queries that traverse up to five levels of parent-child records in a single query.
              </p>

              <p><b>Important Points:</b><br/>
                <ul>
                  <li>This feature is currently limited to SOQL queries via the REST and SOAP query calls on standards and custom objects only.</li>
                  <li>This feature is supported in API version 58.0 and later.</li>
                </ul>
              </p>

              <p><b>How to use ?</b><br/>
                Here is an example of a SOQL query which returns records from the parent object Account and its child objects Contacts, Assets, WorkOrders, and WorkOrderLineItems.
                <br/>
                SOQL query with 5 level of Parent-Child relationships used here is:
                <pre style="display: inline;">
                    SELECT Name,
                        (SELECT LastName,
                            (SELECT AssetLevel,
                                (SELECT Description,
                                    (SELECT LineItemNumber FROM WorkOrderLineItems)    
                                FROM WorkOrders)    
                            FROM Assets)    
                        FROM Contacts)    
                    FROM Account
                </pre>
            </p>

              <p><span style="text-decoration:underline;">SOQL via REST API with API version less than v58.0</span><br/><br/>
                <img src="/dev/images/SOQL_via_REST_API_error.jpg" style="width: 70%; margin-left:10%; border-radius: 5px; filter: drop-shadow(0 0 2px black);"/>
              </p>

              <br/>
              <p><span style="text-decoration:underline;">SOQL via REST API with API version v58.0 and later</span></p><br/>
              <video style="width: 70%; margin-left:10%; border-radius: 5px; filter: drop-shadow(0 0 2px black);"  controls>
                <source src="/dev/videos/SOQL_via_REST_API_success1.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>

              <br/><br/>
              <p>
                <b style="color:brown; font-family: none;">References:</b> <br/>
                <ol>
                  <li><a style="text-decoration: none;" href="https://help.salesforce.com/s/articleView?id=release-notes.rn_api_soql_5level.htm&release=244&type=5" target="blank">Salesforce Release Notes</a></li>
                </ol>
              </p>
            </div>
            
        </article>
    </body>
</html>
